<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Tue Jul 13 16:55:26 CEST 2010 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
OrderedMemoryAwareThreadPoolExecutor (sc-impl 0.0.1-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2010-07-13">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="OrderedMemoryAwareThreadPoolExecutor (sc-impl 0.0.1-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/OrderedMemoryAwareThreadPoolExecutor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="OrderedMemoryAwareThreadPoolExecutor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_java.util.concurrent.ThreadPoolExecutor">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.jboss.netty.handler.execution</FONT>
<BR>
Class OrderedMemoryAwareThreadPoolExecutor</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by ">java.util.concurrent.AbstractExecutorService
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by ">java.util.concurrent.ThreadPoolExecutor
          <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution">org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor</A>
              <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.jboss.netty.handler.execution.OrderedMemoryAwareThreadPoolExecutor</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.util.concurrent.Executor, java.util.concurrent.ExecutorService</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>OrderedMemoryAwareThreadPoolExecutor</B><DT>extends <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution">MemoryAwareThreadPoolExecutor</A></DL>
</PRE>

<P>
A <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution"><CODE>MemoryAwareThreadPoolExecutor</CODE></A> which maintains the
 <A HREF="../../../../../org/jboss/netty/channel/ChannelEvent.html" title="interface in org.jboss.netty.channel"><CODE>ChannelEvent</CODE></A> order for the same <A HREF="../../../../../org/jboss/netty/channel/Channel.html" title="interface in org.jboss.netty.channel"><CODE>Channel</CODE></A>.
 <p>
 <A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution"><CODE>OrderedMemoryAwareThreadPoolExecutor</CODE></A> executes the queued task in the
 same thread if an existing thread is running a task associated with the same
 <A HREF="../../../../../org/jboss/netty/channel/Channel.html" title="interface in org.jboss.netty.channel"><CODE>Channel</CODE></A>.  This behavior is to make sure the events from the same
 <A HREF="../../../../../org/jboss/netty/channel/Channel.html" title="interface in org.jboss.netty.channel"><CODE>Channel</CODE></A> are handled in a correct order.  A different thread might be
 chosen only when the task queue of the <A HREF="../../../../../org/jboss/netty/channel/Channel.html" title="interface in org.jboss.netty.channel"><CODE>Channel</CODE></A> is empty.
 <p>
 Although <A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution"><CODE>OrderedMemoryAwareThreadPoolExecutor</CODE></A> guarantees the order
 of <A HREF="../../../../../org/jboss/netty/channel/ChannelEvent.html" title="interface in org.jboss.netty.channel"><CODE>ChannelEvent</CODE></A>s.  It does not guarantee that the invocation will be
 made by the same thread for the same channel, but it does guarantee that
 the invocation will be made sequentially for the events of the same channel.
 For example, the events can be processed as depicted below:

 <pre>
           -----------------------------------&gt; Timeline -----------------------------------&gt;

 Thread X: --- Channel A (Event 1) --.   .-- Channel B (Event 2) --- Channel B (Event 3) ---&gt;
                                      \ /
                                       X
                                      / \
 Thread Y: --- Channel B (Event 1) --'   '-- Channel A (Event 2) --- Channel A (Event 3) ---&gt;
 </pre>

 Please note that the events of different channels are independent from each
 other.  That is, an event of Channel B will not be blocked by an event of
 Channel A and vice versa, unless the thread pool is exhausted.
 <p>
 If you want the events associated with the same channel to be executed
 simultaneously, please use <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution"><CODE>MemoryAwareThreadPoolExecutor</CODE></A> instead.

 <h3>Using a different key other than <A HREF="../../../../../org/jboss/netty/channel/Channel.html" title="interface in org.jboss.netty.channel"><CODE>Channel</CODE></A> to maintain event order</h3>
 <p>
 <A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution"><CODE>OrderedMemoryAwareThreadPoolExecutor</CODE></A> uses a <A HREF="../../../../../org/jboss/netty/channel/Channel.html" title="interface in org.jboss.netty.channel"><CODE>Channel</CODE></A> as a key
 that is used for maintaining the event execution order, as explained in the
 previous section.  Alternatively, you can extend it to change its behavior.
 For example, you can change the key to the remote IP of the peer:

 <pre>
 public class RemoteAddressBasedOMATPE extends OrderedMemoryAwareThreadPoolExecutor {

     ... Constructors ...

     protected ConcurrentMap&lt;Object, Executor&gt; new ChildExecutorMap() {
         // The default implementation returns a special ConcurrentMap that
         // uses identity comparison only (see <CODE>IdentityHashMap</CODE>).
         // Because SocketAddress does not work with identity comparison,
         // we need to employ more generic implementation.
         return new ConcurrentHashMap&lt;Object, Executor&gt;
     }

     protected Object getChildExecutorKey(ChannelEvent e) {
         // Use the IP of the remote peer as a key.
         return ((InetSocketAddress) e.getChannel().getRemoteAddress()).getAddress();
     }

     // Make public so that you can call from anywhere.
     public boolean removeChildExecutor(Object key) {
         super.removeChildExecutor(key);
     }
 }
 </pre>

 Please be very careful of memory leak of the child executor map.  You must
 call <A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#removeChildExecutor(java.lang.Object)"><CODE>removeChildExecutor(Object)</CODE></A> when the life cycle of the key
 ends (e.g. all connections from the same IP were closed.)  Also, please
 keep in mind that the key can appear again after calling <A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#removeChildExecutor(java.lang.Object)"><CODE>removeChildExecutor(Object)</CODE></A>
 (e.g. a new connection could come in from the same old IP after removal.)
 If in doubt, prune the old unused or stall keys from the child executor map
 periodically:

 <pre>
 RemoteAddressBasedOMATPE executor = ...;

 on every 3 seconds:

   for (Iterator&lt;Object&gt; i = executor.getChildExecutorKeySet().iterator; i.hasNext();) {
       InetAddress ip = (InetAddress) i.next();
       if (there is no active connection from 'ip' now &&
           there has been no incoming connection from 'ip' for last 10 minutes) {
           i.remove();
       }
   }
 </pre>

 If the expected maximum number of keys is small and deterministic, you could
 use a weak key map such as <a href="http://viewvc.jboss.org/cgi-bin/viewvc.cgi/jbosscache/experimental/jsr166/src/jsr166y/ConcurrentWeakHashMap.java?view=markup">ConcurrentWeakHashMap</a>
 or synchronized <CODE>WeakHashMap</CODE> instead of managing the life cycle of the
 keys by yourself.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Rev: 1685 $, $Date: 2009-08-28 16:15:49 +0900 (ê¸ˆ, 28 8 2009) $</DD>
<DT><B>Author:</B></DT>
  <DD>The Netty Project (netty-dev@lists.jboss.org), Trustin Lee (tlee@redhat.com), David M. Lloyd (david.lloyd@redhat.com)</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_java.util.concurrent.ThreadPoolExecutor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class java.util.concurrent.ThreadPoolExecutor</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>java.util.concurrent.ThreadPoolExecutor.AbortPolicy, java.util.concurrent.ThreadPoolExecutor.CallerRunsPolicy, java.util.concurrent.ThreadPoolExecutor.DiscardOldestPolicy, java.util.concurrent.ThreadPoolExecutor.DiscardPolicy</CODE></TD>
</TR>
</TABLE>
&nbsp;

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#OrderedMemoryAwareThreadPoolExecutor(int, long, long)">OrderedMemoryAwareThreadPoolExecutor</A></B>(int&nbsp;corePoolSize,
                                     long&nbsp;maxChannelMemorySize,
                                     long&nbsp;maxTotalMemorySize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#OrderedMemoryAwareThreadPoolExecutor(int, long, long, long, java.util.concurrent.TimeUnit)">OrderedMemoryAwareThreadPoolExecutor</A></B>(int&nbsp;corePoolSize,
                                     long&nbsp;maxChannelMemorySize,
                                     long&nbsp;maxTotalMemorySize,
                                     long&nbsp;keepAliveTime,
                                     java.util.concurrent.TimeUnit&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#OrderedMemoryAwareThreadPoolExecutor(int, long, long, long, java.util.concurrent.TimeUnit, org.jboss.netty.util.ObjectSizeEstimator, java.util.concurrent.ThreadFactory)">OrderedMemoryAwareThreadPoolExecutor</A></B>(int&nbsp;corePoolSize,
                                     long&nbsp;maxChannelMemorySize,
                                     long&nbsp;maxTotalMemorySize,
                                     long&nbsp;keepAliveTime,
                                     java.util.concurrent.TimeUnit&nbsp;unit,
                                     <A HREF="../../../../../org/jboss/netty/util/ObjectSizeEstimator.html" title="interface in org.jboss.netty.util">ObjectSizeEstimator</A>&nbsp;objectSizeEstimator,
                                     java.util.concurrent.ThreadFactory&nbsp;threadFactory)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#OrderedMemoryAwareThreadPoolExecutor(int, long, long, long, java.util.concurrent.TimeUnit, java.util.concurrent.ThreadFactory)">OrderedMemoryAwareThreadPoolExecutor</A></B>(int&nbsp;corePoolSize,
                                     long&nbsp;maxChannelMemorySize,
                                     long&nbsp;maxTotalMemorySize,
                                     long&nbsp;keepAliveTime,
                                     java.util.concurrent.TimeUnit&nbsp;unit,
                                     java.util.concurrent.ThreadFactory&nbsp;threadFactory)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new instance.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#doExecute(java.lang.Runnable)">doExecute</A></B>(java.lang.Runnable&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Executes the specified task concurrently while maintaining the event
 order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#getChildExecutorKey(org.jboss.netty.channel.ChannelEvent)">getChildExecutorKey</A></B>(<A HREF="../../../../../org/jboss/netty/channel/ChannelEvent.html" title="interface in org.jboss.netty.channel">ChannelEvent</A>&nbsp;e)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Set&lt;java.lang.Object&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#getChildExecutorKeySet()">getChildExecutorKeySet</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.concurrent.ConcurrentMap&lt;java.lang.Object,java.util.concurrent.Executor&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#newChildExecutorMap()">newChildExecutorMap</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#removeChildExecutor(java.lang.Object)">removeChildExecutor</A></B>(java.lang.Object&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html#shouldCount(java.lang.Runnable)">shouldCount</A></B>(java.lang.Runnable&nbsp;task)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if and only if the specified <code>task</code> should
 be counted to limit the global and per-channel memory consumption.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.jboss.netty.handler.execution.<A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution">MemoryAwareThreadPoolExecutor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#beforeExecute(java.lang.Thread, java.lang.Runnable)">beforeExecute</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#decreaseCounter(java.lang.Runnable)">decreaseCounter</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#doUnorderedExecute(java.lang.Runnable)">doUnorderedExecute</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#execute(java.lang.Runnable)">execute</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#getMaxChannelMemorySize()">getMaxChannelMemorySize</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#getMaxTotalMemorySize()">getMaxTotalMemorySize</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#getObjectSizeEstimator()">getObjectSizeEstimator</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#increaseCounter(java.lang.Runnable)">increaseCounter</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#remove(java.lang.Runnable)">remove</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#setMaxChannelMemorySize(long)">setMaxChannelMemorySize</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#setMaxTotalMemorySize(long)">setMaxTotalMemorySize</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#setObjectSizeEstimator(org.jboss.netty.util.ObjectSizeEstimator)">setObjectSizeEstimator</A>, <A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#terminated()">terminated</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.util.concurrent.ThreadPoolExecutor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.util.concurrent.ThreadPoolExecutor</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>afterExecute, allowCoreThreadTimeOut, allowsCoreThreadTimeOut, awaitTermination, finalize, getActiveCount, getCompletedTaskCount, getCorePoolSize, getKeepAliveTime, getLargestPoolSize, getMaximumPoolSize, getPoolSize, getQueue, getRejectedExecutionHandler, getTaskCount, getThreadFactory, isShutdown, isTerminated, isTerminating, prestartAllCoreThreads, prestartCoreThread, purge, setCorePoolSize, setKeepAliveTime, setMaximumPoolSize, setRejectedExecutionHandler, setThreadFactory, shutdown, shutdownNow</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.util.concurrent.AbstractExecutorService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.util.concurrent.AbstractExecutorService</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>invokeAll, invokeAll, invokeAny, invokeAny, newTaskFor, newTaskFor, submit, submit, submit</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="OrderedMemoryAwareThreadPoolExecutor(int, long, long)"><!-- --></A><H3>
OrderedMemoryAwareThreadPoolExecutor</H3>
<PRE>
public <B>OrderedMemoryAwareThreadPoolExecutor</B>(int&nbsp;corePoolSize,
                                            long&nbsp;maxChannelMemorySize,
                                            long&nbsp;maxTotalMemorySize)</PRE>
<DL>
<DD>Creates a new instance.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>corePoolSize</CODE> - the maximum number of active threads<DD><CODE>maxChannelMemorySize</CODE> - the maximum total size of the queued events per channel.
                              Specify <code>0</code> to disable.<DD><CODE>maxTotalMemorySize</CODE> - the maximum total size of the queued events for this pool
                              Specify <code>0</code> to disable.</DL>
</DL>
<HR>

<A NAME="OrderedMemoryAwareThreadPoolExecutor(int, long, long, long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
OrderedMemoryAwareThreadPoolExecutor</H3>
<PRE>
public <B>OrderedMemoryAwareThreadPoolExecutor</B>(int&nbsp;corePoolSize,
                                            long&nbsp;maxChannelMemorySize,
                                            long&nbsp;maxTotalMemorySize,
                                            long&nbsp;keepAliveTime,
                                            java.util.concurrent.TimeUnit&nbsp;unit)</PRE>
<DL>
<DD>Creates a new instance.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>corePoolSize</CODE> - the maximum number of active threads<DD><CODE>maxChannelMemorySize</CODE> - the maximum total size of the queued events per channel.
                              Specify <code>0</code> to disable.<DD><CODE>maxTotalMemorySize</CODE> - the maximum total size of the queued events for this pool
                              Specify <code>0</code> to disable.<DD><CODE>keepAliveTime</CODE> - the amount of time for an inactive thread to shut itself down<DD><CODE>unit</CODE> - the <CODE>TimeUnit</CODE> of <code>keepAliveTime</code></DL>
</DL>
<HR>

<A NAME="OrderedMemoryAwareThreadPoolExecutor(int, long, long, long, java.util.concurrent.TimeUnit, java.util.concurrent.ThreadFactory)"><!-- --></A><H3>
OrderedMemoryAwareThreadPoolExecutor</H3>
<PRE>
public <B>OrderedMemoryAwareThreadPoolExecutor</B>(int&nbsp;corePoolSize,
                                            long&nbsp;maxChannelMemorySize,
                                            long&nbsp;maxTotalMemorySize,
                                            long&nbsp;keepAliveTime,
                                            java.util.concurrent.TimeUnit&nbsp;unit,
                                            java.util.concurrent.ThreadFactory&nbsp;threadFactory)</PRE>
<DL>
<DD>Creates a new instance.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>corePoolSize</CODE> - the maximum number of active threads<DD><CODE>maxChannelMemorySize</CODE> - the maximum total size of the queued events per channel.
                              Specify <code>0</code> to disable.<DD><CODE>maxTotalMemorySize</CODE> - the maximum total size of the queued events for this pool
                              Specify <code>0</code> to disable.<DD><CODE>keepAliveTime</CODE> - the amount of time for an inactive thread to shut itself down<DD><CODE>unit</CODE> - the <CODE>TimeUnit</CODE> of <code>keepAliveTime</code><DD><CODE>threadFactory</CODE> - the <CODE>ThreadFactory</CODE> of this pool</DL>
</DL>
<HR>

<A NAME="OrderedMemoryAwareThreadPoolExecutor(int, long, long, long, java.util.concurrent.TimeUnit, org.jboss.netty.util.ObjectSizeEstimator, java.util.concurrent.ThreadFactory)"><!-- --></A><H3>
OrderedMemoryAwareThreadPoolExecutor</H3>
<PRE>
public <B>OrderedMemoryAwareThreadPoolExecutor</B>(int&nbsp;corePoolSize,
                                            long&nbsp;maxChannelMemorySize,
                                            long&nbsp;maxTotalMemorySize,
                                            long&nbsp;keepAliveTime,
                                            java.util.concurrent.TimeUnit&nbsp;unit,
                                            <A HREF="../../../../../org/jboss/netty/util/ObjectSizeEstimator.html" title="interface in org.jboss.netty.util">ObjectSizeEstimator</A>&nbsp;objectSizeEstimator,
                                            java.util.concurrent.ThreadFactory&nbsp;threadFactory)</PRE>
<DL>
<DD>Creates a new instance.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>corePoolSize</CODE> - the maximum number of active threads<DD><CODE>maxChannelMemorySize</CODE> - the maximum total size of the queued events per channel.
                              Specify <code>0</code> to disable.<DD><CODE>maxTotalMemorySize</CODE> - the maximum total size of the queued events for this pool
                              Specify <code>0</code> to disable.<DD><CODE>keepAliveTime</CODE> - the amount of time for an inactive thread to shut itself down<DD><CODE>unit</CODE> - the <CODE>TimeUnit</CODE> of <code>keepAliveTime</code><DD><CODE>threadFactory</CODE> - the <CODE>ThreadFactory</CODE> of this pool<DD><CODE>objectSizeEstimator</CODE> - the <A HREF="../../../../../org/jboss/netty/util/ObjectSizeEstimator.html" title="interface in org.jboss.netty.util"><CODE>ObjectSizeEstimator</CODE></A> of this pool</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="newChildExecutorMap()"><!-- --></A><H3>
newChildExecutorMap</H3>
<PRE>
protected java.util.concurrent.ConcurrentMap&lt;java.lang.Object,java.util.concurrent.Executor&gt; <B>newChildExecutorMap</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getChildExecutorKey(org.jboss.netty.channel.ChannelEvent)"><!-- --></A><H3>
getChildExecutorKey</H3>
<PRE>
protected java.lang.Object <B>getChildExecutorKey</B>(<A HREF="../../../../../org/jboss/netty/channel/ChannelEvent.html" title="interface in org.jboss.netty.channel">ChannelEvent</A>&nbsp;e)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getChildExecutorKeySet()"><!-- --></A><H3>
getChildExecutorKeySet</H3>
<PRE>
protected java.util.Set&lt;java.lang.Object&gt; <B>getChildExecutorKeySet</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeChildExecutor(java.lang.Object)"><!-- --></A><H3>
removeChildExecutor</H3>
<PRE>
protected boolean <B>removeChildExecutor</B>(java.lang.Object&nbsp;key)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="doExecute(java.lang.Runnable)"><!-- --></A><H3>
doExecute</H3>
<PRE>
protected void <B>doExecute</B>(java.lang.Runnable&nbsp;task)</PRE>
<DL>
<DD>Executes the specified task concurrently while maintaining the event
 order.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#doExecute(java.lang.Runnable)">doExecute</A></CODE> in class <CODE><A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution">MemoryAwareThreadPoolExecutor</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shouldCount(java.lang.Runnable)"><!-- --></A><H3>
shouldCount</H3>
<PRE>
protected boolean <B>shouldCount</B>(java.lang.Runnable&nbsp;task)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#shouldCount(java.lang.Runnable)">MemoryAwareThreadPoolExecutor</A></CODE></B></DD>
<DD>Returns <code>true</code> if and only if the specified <code>task</code> should
 be counted to limit the global and per-channel memory consumption.
 To override this method, you must call <code>super.shouldCount()</code> to
 make sure important tasks are not counted.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html#shouldCount(java.lang.Runnable)">shouldCount</A></CODE> in class <CODE><A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution">MemoryAwareThreadPoolExecutor</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/OrderedMemoryAwareThreadPoolExecutor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.html" title="class in org.jboss.netty.handler.execution"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/jboss/netty/handler/execution/OrderedMemoryAwareThreadPoolExecutor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="OrderedMemoryAwareThreadPoolExecutor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_java.util.concurrent.ThreadPoolExecutor">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2010. All Rights Reserved.
</BODY>
</HTML>
